<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="img/Logo Files/Favicons/browser.png" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css" />
    <title>Thrive Enterprise</title>
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar" data-bs-offset="70">
    <div class="top-nav" id="home">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-auto">
                    <p><i class="bx bxs-envelope"></i> info@example.com</p>
                    <p><i class="bx bxs-phone-call"></i> 123 456-7890</p>
                </div>
                <div class="col-auto social-icons">
                    <a href="#"><i class="bx bxl-facebook"></i></a>
                    <a href="#"><i class="bx bxl-twitter"></i></a>
                    <a href="#"><i class="bx bxl-instagram"></i></a>
                    <a href="#"><i class="bx bxl-pinterest"></i></a>
                </div>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="img/Logo Files/png/Color logo - no background.png" alt="Thrive Enterprise Logo" height="70" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#services">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#team">Team</a>
                    </li>
                </ul>
                <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-brand ms-lg-3">Contact</a>
            </div>
        </div>
    </nav>

    <div class="owl-carousel owl-theme hero-slider" id="hero-slider"></div>

    <section id="about">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-5 py-5">
                    <h1 id="about-title">Who we are?</h1>
                    <div id="about-description">
                        <p>At Thrive Enterprise Solutions, we're passionate about helping businesses grow and succeed. Based in Perth, we partner with organisations to tackle challenges, unlock opportunities, and build stronger, more resilient operations.</p>
                        <p>Our team supports businesses in strengthening their people capabilities through learning and development programs, career services, and HR advisory support.</p>
                    </div>
                </div>
                <div class="col-lg-5">
                    <img id="about-image" src="img/about.png" alt="About Us" />
                </div>
            </div>
        </div>
    </section>

    <section id="milestone">
        <div class="container">
            <div class="row text-center justify-content-center gy-4">
                <div class="col-lg-2 col-sm-6">
                    <h1 class="display-4">90K+</h1>
                    <p class="mb-0">Happy Clients</p>
                </div>
                <div class="col-lg-2 col-sm-6">
                    <h1 class="display-4">45M</h1>
                    <p class="mb-0">Line up Clients</p>
                </div>
                <div class="col-lg-2 col-sm-6">
                    <h1 class="display-4">190</h1>
                    <p class="mb-0">In Progress</p>
                </div>
                <div class="col-lg-2 col-sm-6">
                    <h1 class="display-4">380K</h1>
                    <p class="mb-0">Total Completed</p>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="text-center">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="intro">
                        <h6>Our Services</h6>
                        <h1>What We Do?</h1>
                        <p class="mx-auto">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old.</p>
                    </div>
                </div>
            </div>
            <div class="row g-4" id="services-container"></div>
        </div>
    </section>

    <section id="team">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="intro">
                        <h6>Team</h6>
                        <h1>Team Members</h1>
                        <p class="mx-auto">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old.</p>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center" id="team-container"></div>
        </div>
    </section>

    <footer>
        <div class="footer-top text-center">
            <div class="container">
                <div class="row justify-content-center">
                    <a class="navbar-brand" href="#">
                        <img src="img/Logo Files/png/White logo - no background.png" alt="Thrive Enterprise Logo" class="footer-logo" />
                    </a>
                    <div class="col-lg-6 text-center">
                        <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC.</p>
                        <div class="col-auto social-icons">
                            <a href="#"><i class="bx bxl-facebook"></i></a>
                            <a href="#"><i class="bx bxl-twitter"></i></a>
                            <a href="#"><i class="bx bxl-instagram"></i></a>
                            <a href="#"><i class="bx bxl-pinterest"></i></a>
                        </div>
                        <div class="col-auto conditions-section">
                            <a href="#">Privacy</a>
                            <a href="#">Terms</a>
                            <a href="#">Disclaimer</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom text-center">
            <p class="mb-0">Copyright Thrive Enterprise 2025. All rights Reserved</p>
            Designed By <a href="https://reinsoft.site">ReinSoft IT Solutions</a>
        </div>
    </footer>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <div class="container-fluid">
                        <div class="row gy-4">
                            <div class="col-lg-4 col-sm-12 bg-cover" style="background-image: url(img/c2.jpg); min-height: 300px"></div>
                            <div class="col-lg-8">
                                <form id="contactForm" class="p-lg-5 col-12 row g-3">
                                    <div>
                                        <h1>Get in touch</h1>
                                        <p>Feel free to contact us and we will get back to you as soon as possible</p>
                                    </div>
                                    <div id="formMessages" class="col-12"></div>
                                    <div class="col-lg-6">
                                        <label for="firstName" class="form-label">First name</label>
                                        <input type="text" class="form-control" placeholder="Jon" id="firstName" aria-describedby="emailHelp" />
                                    </div>
                                    <div class="col-lg-6">
                                        <label for="lastName" class="form-label">Last name</label>
                                        <input type="text" class="form-control" placeholder="Doe" id="lastName" aria-describedby="emailHelp" />
                                    </div>
                                    <div class="col-12">
                                        <label for="email" class="form-label">Email address</label>
                                        <input type="email" class="form-control" placeholder="johndoe@example.com" id="email" aria-describedby="emailHelp" />
                                    </div>
                                    <div class="col-12">
                                        <label for="message" class="form-label">Enter Message</label>
                                        <textarea name="message" placeholder="This is looking great and nice." class="form-control" id="message" rows="4"></textarea>
                                    </div>
                                    <div class="col-12">
                                        <button type="submit" class="btn btn-brand">Send Message</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script>
        let carouselInitialized = false;

        function initOwlCarousel() {
            const heroSlider = $("#hero-slider");
            if (heroSlider.hasClass('owl-loaded')) {
                heroSlider.trigger('destroy.owl.carousel');
                heroSlider.removeClass('owl-loaded owl-hidden');
                heroSlider.find('.owl-stage-outer').children().unwrap();
            }
            heroSlider.owlCarousel({
                items: 1,
                loop: true,
                autoplay: true,
                autoplayTimeout: 5000,
                autoplayHoverPause: true,
                dots: false,
                nav: true,
                navText: [
                    "<i class='bx bx-chevron-left'></i>",
                    "<i class='bx bx-chevron-right'></i>"
                ],
                onInitialized: function() {
                    carouselInitialized = true;
                }
            });
        }

        async function loadSlides() {
            try {
                const response = await fetch("http://127.0.0.1:8000/api/hero-slides");
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                const slides = data.data || data || [];
                const heroSlider = $("#hero-slider");
                heroSlider.empty();
                
                if (slides.length > 0) {
                    slides.forEach((slide, index) => {
                        const slideClass = index % 2 === 0 ? "slide slide1" : "slide slide2";
                        const colClass = slide.colClass || 
                                       (index % 2 === 0 ? "col-12 text-center text-white" : 
                                       "col-12 col-lg-10 offset-lg-1 text-white");
                        heroSlider.append(`
                            <div class="${slideClass}">
                                <div class="container">
                                    <div class="row">
                                        <div class="${colClass}">
                                            <h6 class="text-white text-uppercase">${slide.subtitle || "Professional Platform"}</h6>
                                            <h1 class="display-3 my-4">${slide.title || "We Craft Solutions"}</h1>
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-brand">Contact</a>
                                            <a href="services.html" class="btn btn-outline-light ms-3">Our Services</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `);
                    });
                } else {
                    loadFallbackSlides();
                }
                initOwlCarousel();
            } catch (error) {
                loadFallbackSlides();
            }
        }

        function loadFallbackSlides() {
            const heroSlider = $("#hero-slider");
            heroSlider.empty();
            const fallbackSlides = [
                {
                    subtitle: "A Platform for Professionals",
                    title: "We craft<br>Your Ideas",
                    colClass: "col-12 text-center text-white"
                },
                {
                    subtitle: "We craft Your Ideas",
                    title: "A Platform For<br>Professionals",
                    colClass: "col-12 col-lg-10 offset-lg-1 text-white"
                }
            ];
            fallbackSlides.forEach((slide, index) => {
                const slideClass = index % 2 === 0 ? "slide slide1" : "slide slide2";
                heroSlider.append(`
                    <div class="${slideClass}">
                        <div class="container">
                            <div class="row">
                                <div class="${slide.colClass}">
                                    <h6 class="text-white text-uppercase">${slide.subtitle}</h6>
                                    <h1 class="display-3 my-4">${slide.title}</h1>
                                    <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-brand">Contact</a>
                                    <a href="services.html" class="btn btn-outline-light ms-3">Our Services</a>
                                </div>
                            </div>
                        </div>
                    </div>
                `);
            });
            initOwlCarousel();
        }

        async function fetchAbout() {
            try {
                const response = await fetch("http://127.0.0.1:8000/api/abouts");
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const abouts = await response.json();
                const aboutTitle = $("#about-title");
                const aboutDescription = $("#about-description");
                const aboutImage = $("#about-image");
                aboutTitle.empty();
                aboutDescription.empty();
                if (abouts.length > 0) {
                    const about = abouts[0];
                    aboutTitle.text(about.title || "Who we are?");
                    aboutDescription.html(`<p>${about.description || "No description available"}</p>`);
                    aboutImage.attr("src", about.image ? `http://127.0.0.1:8000/storage/${about.image}` : "img/about.png");
                    aboutImage.attr("alt", about.title || "About Us");
                    aboutImage.on("error", function() {
                        $(this).attr("src", "img/about.png");
                        $(this).off("error");
                    });
                } else {
                    aboutTitle.text("Who we are?");
                    aboutDescription.html(`<p>At Thrive Enterprise Solutions, we're passionate about helping businesses grow and succeed.</p>`);
                    aboutImage.attr("src", "img/about.png");
                    aboutImage.attr("alt", "About Us");
                }
            } catch (error) {
                $("#about").html('<p class="text-danger text-center">Failed to load about information.</p>');
            }
        }

        async function fetchServices() {
            try {
                const response = await fetch("http://127.0.0.1:8000/api/services");
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const services = await response.json();
                const servicesContainer = $("#services-container");
                servicesContainer.empty();
                services.slice(0, 6).forEach((service, index) => {
                    servicesContainer.append(`
                        <div class="col-lg-6 col-md-6">
                            <div class="service">
                                <img src="img/icon${(index % 7) + 1}.png" alt="${service.title || "Service"}">
                                <h5>${service.title || "Untitled Service"}</h5>
                                <p>${service.description || "No description available"}</p>
                            </div>
                        </div>
                    `);
                });
                if (services.length > 6) {
                    servicesContainer.append(`
                        <div class="col-lg-6 col-md-6 d-flex align-items-center justify-content-center">
                            <a href="services.html" class="view-more-btn">
                                <i class='bx bx-right-arrow-alt'></i> View More
                            </a>
                        </div>
                    `);
                }
            } catch (error) {
                $("#services-container").html('<p class="text-danger">Failed to load services.</p>');
            }
        }

        async function fetchTeam() {
            try {
                const response = await fetch("http://127.0.0.1:8000/api/teams/list");
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                const team = await response.json();
                const teamContainer = $("#team-container");
                teamContainer.empty();
                team.forEach((member) => {
                    const imageUrl = member.image ? `http://127.0.0.1:8000/storage/${member.image}` : "img/team_1.jpg";
                    const socialLinks = member.social_links || {};
                    teamContainer.append(`
                        <div class="col-lg-4 col-md-8">
                            <div class="team-member">
                                <div class="image">
                                    <img src="${imageUrl}" alt="${member.name || "Team Member"}" onerror="this.src='img/team_1.jpg'; this.onerror=null;">
                                    <div class="social-icons">
                                        ${socialLinks.twitter ? `<a href="${socialLinks.twitter}" target="_blank"><i class='bx bxl-twitter'></i></a>` : ""}
                                        ${socialLinks.facebook ? `<a href="${socialLinks.facebook}" target="_blank"><i class='bx bxl-facebook'></i></a>` : ""}
                                        ${socialLinks.linkedin ? `<a href="${socialLinks.linkedin}" target="_blank"><i class='bx bxl-linkedin'></i></a>` : ""}
                                        ${!socialLinks.twitter && !socialLinks.facebook && !socialLinks.linkedin ? "<a href=\"#\"><i class='bx bxl-pinterest'></i></a>" : ""}
                                    </div>
                                    <div class="overlay"></div>
                                </div>
                                <h5>${member.name || "Unnamed Member"}</h5>
                                <p>${member.position || "No Position"}</p>
                            </div>
                        </div>
                    `);
                });
            } catch (error) {
                $("#team-container").html('<p class="text-danger">Failed to load team members.</p>');
            }
        }

        $(document).ready(function() {
            loadSlides();
            fetchAbout();
            fetchServices();
            fetchTeam();
            
            $("#contactForm").on("submit", function(e) {
                e.preventDefault();
                $("#formMessages").empty();
                const firstName = $("#firstName").val().trim();
                const lastName = $("#lastName").val().trim();
                const email = $("#email").val().trim();
                const message = $("#message").val().trim();

                if (!firstName || !lastName || !email || !message) {
                    $("#formMessages").html('<div class="alert alert-danger" role="alert">Please fill in all required fields.</div>');
                    return;
                }

                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    $("#formMessages").html('<div class="alert alert-danger" role="alert">Please enter a valid email address.</div>');
                    return;
                }

                const formData = {
                    first_name: firstName,
                    last_name: lastName,
                    email: email,
                    message: message
                };

                $.ajax({
                    url: "http://127.0.0.1:8000/api/contact-submissions",
                    method: "POST",
                    contentType: "application/json",
                    data: JSON.stringify(formData),
                    success: function(response) {
                        $("#formMessages").html('<div class="alert alert-success" role="alert">' + (response.message || "Message sent successfully!") + "</div>");
                        $("#contactForm")[0].reset();
                        setTimeout(() => {
                            $("#exampleModal").modal("hide");
                            $("#formMessages").empty();
                        }, 2000);
                    },
                    error: function(xhr) {
                        const errorResponse = xhr.responseJSON;
                        let errorMessage = "Failed to send message. Please try again later.";
                        if (errorResponse && errorResponse.errors) {
                            errorMessage = Object.values(errorResponse.errors).flat().join(" ");
                        } else if (errorResponse && errorResponse.message) {
                            errorMessage = errorResponse.message;
                        }
                        $("#formMessages").html('<div class="alert alert-danger" role="alert">' + errorMessage + "</div>");
                    }
                });
            });

            $(window).on('resize', function() {
                if (carouselInitialized) {
                    initOwlCarousel();
                }
            });
        });
    </script>
</body>
</html>